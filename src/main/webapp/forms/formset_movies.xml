<doc>
	<!-- http://localhost:8081/forms/formset_movies.xml -->

	<!-- The DATA we get -->	
	<form name='show information' data-type='dataform' data-link='show=possesses'>
		<input name="title" data-type="input"/>
		<input name="title_type" data-type="input" data-alias='show type'/>
		<input name="year" data-type="input" data-alias='year released'/>
		<input name="length" data-type="input"/>		
		<input name="image" data-type="input"/>
		<input name="image_width" data-type="input"/>
		<input name="image_height" data-type="input"/>
		<input name="person_name" data-type="input"/>
		<input name="person_role" data-type="input"/>
	</form>
	
	<!-- FORM to show a show -->
	<form name='_show_show_' data-type='form' >
		<input name="show sum" data-type="content" />
		<label for="show sum" state='wake'>Show: %current:show information/title% from %current:show information/year%</label>			
		<input name="show sum1" data-type="content" />
		<label for="show sum1" state='wake'>With %current:show information/person_role% %current:show information/person_name%</label>	
	</form>
<!-- 
set itorator number, resolve in resolvePhraseSelector()
%iterator:show information/

need iterator <input> must access name/start/end

- save must retain: name, start, end
 -->	
	
	<!-- Test external data use -->
	<form name='_getmovies_' data-type='form'>
	<!-- FIXME get multiple tokens... -->	
		<input name="title" data-type="input" data-seq="X:%any%:%"/>
		<label for="title" state='wake'>What show would you like to find?</label>
		<label for="title" state='incomplete'>I didn't get that</label>
		<label for="title" state='complete'>Finding what I can...</label>
		
 		<input name="get_shows" data-type="post" data-resp-formname='show information' data-posturl='http://localhost:8080/api/1.0/test/movies'/>
		<label for="get_shows" state='incomplete'>Still waiting for the movie service</label>
<!-- FIXME show list: 1, first N, or ALL 
set of forms saved ?
-->		
		<input name="show show" data-type="form" data-formname="_show_show_" data-task-name='show results'/>	 
	</form>
	
	<!-- Casual get and show -->
	<form name='show' role='action' data-type='action' data-object-type='thing'>
<!-- FIXME input setup? -->	
		<input name="intro" data-type="comment"/>
		<label for="intro" state='wake'>I am %current/cmd_action% the %current/cmd_object_instance%</label>
		
		<input name="status" data-type="input"/>			
		<input name="read" data-crmd='read' data-type="post" data-formname='show information' 
			data-task-name='find shows'
			data-ability='find'
			data-followup='show results'
			data-posturl='http://localhost:8080/api/1.0/test/movies'/>
	</form>




	<!-- Wake from background to tell the weather -->
	<form name='_show_invoke_' data-type='form' >
		<input name="listen" data-type="invoke" data-seq="find:% X:show/shows/movie/movies:%"/>				
		
		<input name="intro" data-type="content" />
		<label for="intro" state='wake'>Getting the shows</label>	
		
		<input name="show list" data-type="form" data-formname="_getmovies_"/>
			
		<input name="background" data-type="event" data-event='background_reset' />
	</form>

	<!-- Bot (or sub element) that just gets the weather -->
	<form name='_show_bot_' data-type='form'>
		<input name="show list" data-type="form" data-formname="_getmovies_"/>
		
		<input name="outro" data-type="outro" />
		<label for="outro" state='wake'>Good bye</label>
			
		<input name="bye" data-type="event" data-event='bye'/>
	</form>


	<!-- Bot: Could do more but mostly is weather -->
	<form name='_show_taskbot_' role='main' data-type='form'>
		<input name="intro" data-type="intro"/>
		<label for="intro" state='wake'>Good %_time_period_of_day% how can I help you?</label>

		<input name="taskset" data-type="tasks" data-task-show='weather report' />	
		<label for="taskset" state='wake' data-pre-wait='10'>What can I help you with this %_time_period_of_day%?</label>
		<label for="taskset" state='wake' data-channel='sms'>What do you want this time?</label>
		<label for="taskset" state='verify' data-pre-wait='10'>Now that %_last_task% is %_last_outcome%, is there anything else I can help you with?</label>
		<label for="taskset" state='canceled' data-pre-wait='6'>Is there anything else I can help you with?</label>

		<input name="outro" data-type="outro"/>
		<label for="outro" state='wake' data-pre-wait='10'>Thank you, hope you have a great %_time_period_of_day%</label>	
		
		<input name="bye" data-type="event" data-event='bye' />
	</form>

</doc>

